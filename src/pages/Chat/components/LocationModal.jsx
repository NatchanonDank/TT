import React, { useState, useEffect } from 'react';
import { X, MapPin, Navigation, Search, Loader } from 'lucide-react';

const LocationModal = ({ isOpen, onClose, onSendLocation }) => {
  const [searchTerm, setSearchTerm] = useState('');
  const [searchResults, setSearchResults] = useState([]);
  const [isLoading, setIsLoading] = useState(false);

  // Debounce search
  useEffect(() => {
    const delayDebounceFn = setTimeout(() => {
      if (searchTerm.trim()) {
        handleSearch(searchTerm);
      } else {
        setSearchResults([]);
      }
    }, 800);

    return () => clearTimeout(delayDebounceFn);
  }, [searchTerm]);

  if (!isOpen) return null;

  // 1. ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏à‡∏≤‡∏Å OpenStreetMap (‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡∏ï‡πâ‡∏≠‡∏á fetch ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏´‡∏≤‡∏ó‡∏µ‡πà‡∏≠‡∏∑‡πà‡∏ô)
  const handleSearch = async (query) => {
    setIsLoading(true);
    try {
      const response = await fetch(
        `https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(query)}&addressdetails=1&limit=10&countrycodes=th&accept-language=th`
      );
      const data = await response.json();

      const formattedResults = data.map((item) => ({
        name: item.name || item.display_name.split(',')[0], 
        address: item.display_name,
        lat: parseFloat(item.lat),
        lng: parseFloat(item.lon)
      }));

      setSearchResults(formattedResults);
    } catch (error) {
      console.error("Error searching location:", error);
    } finally {
      setIsLoading(false);
    }
  };

  // ‚úÖ 2. ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç: ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô (‡∏•‡∏ö‡∏Å‡∏≤‡∏£ fetch ‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å ‡∏™‡πà‡∏á‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≤‡∏¢‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏¢)
  const handleCurrentLocation = () => {
    setIsLoading(true);
    
    if (!navigator.geolocation) {
      alert("‡πÑ‡∏°‡πà‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö GPS");
      setIsLoading(false);
      return;
    }

    navigator.geolocation.getCurrentPosition((position) => {
      const { latitude, longitude } = position.coords;
      
      // ‚ùå ‡∏•‡∏ö‡πÇ‡∏Ñ‡πâ‡∏î fetch(...) ‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏≠‡∏¢‡∏π‡πà‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡∏´‡∏°‡∏î
      
      // ‚úÖ ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏≠‡∏á‡πÄ‡∏•‡∏¢
      const loc = {
         name: "‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô", 
         address: `‡∏û‡∏¥‡∏Å‡∏±‡∏î: ${latitude.toFixed(5)}, ${longitude.toFixed(5)}`, // ‡πÅ‡∏™‡∏î‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÅ‡∏ó‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ï‡∏≥‡∏ö‡∏•
         lat: latitude,
         lng: longitude
      };
      
      onSendLocation(loc);
      setIsLoading(false);
      
    }, (err) => {
      alert("‡∏î‡∏∂‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: " + err.message);
      setIsLoading(false);
    });
  };

  // 3. ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥
  const suggestedLocations = [
    // --- üè¢ ‡∏´‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏û‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ & ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á ---
    // ‡∏Å‡∏ó‡∏°. & ‡∏õ‡∏£‡∏¥‡∏°‡∏ì‡∏ë‡∏•
    { name: "‡∏™‡∏¢‡∏≤‡∏°‡∏û‡∏≤‡∏£‡∏≤‡∏Å‡∏≠‡∏ô", lat: 13.7469, lng: 100.5349, address: "991 ‡∏ñ.‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏° 1, ‡∏õ‡∏ó‡∏∏‡∏°‡∏ß‡∏±‡∏ô, ‡∏Å‡∏ó‡∏°." },
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏•‡πÄ‡∏ß‡∏¥‡∏•‡∏î‡πå", lat: 13.7466, lng: 100.5393, address: "999/9 ‡∏ñ.‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏° 1, ‡∏õ‡∏ó‡∏∏‡∏°‡∏ß‡∏±‡∏ô, ‡∏Å‡∏ó‡∏°." },
    { name: "‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏™‡∏¢‡∏≤‡∏°", lat: 13.7267, lng: 100.5105, address: "299 ‡∏ñ.‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏ô‡∏Ñ‡∏£, ‡∏Ñ‡∏•‡∏≠‡∏á‡∏™‡∏≤‡∏ô, ‡∏Å‡∏ó‡∏°." },
    { name: "‡πÄ‡∏≠‡πá‡∏°‡∏Ñ‡∏ß‡∏≠‡πÄ‡∏ó‡∏µ‡∏¢‡∏£‡πå", lat: 13.7320, lng: 100.5698, address: "693 ‡∏ñ.‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó, ‡∏Ñ‡∏•‡∏≠‡∏á‡∏ï‡∏±‡∏ô‡πÄ‡∏´‡∏ô‡∏∑‡∏≠" },
    { name: "‡πÄ‡∏≠‡πá‡∏°‡∏™‡πÄ‡∏ü‡∏µ‡∏¢‡∏£‡πå", lat: 13.7338, lng: 100.5665, address: "‡∏ñ.‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó, ‡∏Ñ‡∏•‡∏≠‡∏á‡πÄ‡∏ï‡∏¢, ‡∏Å‡∏ó‡∏°." },
    { name: "‡πÄ‡∏°‡∏Å‡∏≤‡∏ö‡∏≤‡∏á‡∏ô‡∏≤", lat: 13.6467, lng: 100.6803, address: "39 ‡∏°.6 ‡∏ñ.‡∏ö‡∏≤‡∏á‡∏ô‡∏≤-‡∏ï‡∏£‡∏≤‡∏î, ‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£" },
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏• ‡∏•‡∏≤‡∏î‡∏û‡∏£‡πâ‡∏≤‡∏ß", lat: 13.8165, lng: 100.5608, address: "1693 ‡∏ñ.‡∏û‡∏´‡∏•‡πÇ‡∏¢‡∏ò‡∏¥‡∏ô, ‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£" },
    { name: "‡∏¢‡∏π‡πÄ‡∏ô‡∏µ‡πà‡∏¢‡∏ô ‡∏°‡∏≠‡∏•‡∏•‡πå", lat: 13.8135, lng: 100.5618, address: "54 ‡∏ã.‡∏•‡∏≤‡∏î‡∏û‡∏£‡πâ‡∏≤‡∏ß 1, ‡∏à‡∏≠‡∏°‡∏û‡∏•" },
    { name: "‡πÄ‡∏ó‡∏≠‡∏£‡πå‡∏°‡∏¥‡∏ô‡∏≠‡∏• 21 ‡∏≠‡πÇ‡∏®‡∏Å", lat: 13.7376, lng: 100.5603, address: "88 ‡∏ã.‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó 19" },
    { name: "‡πÄ‡∏ó‡∏≠‡∏£‡πå‡∏°‡∏¥‡∏ô‡∏≠‡∏• 21 ‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏° 3", lat: 13.6934, lng: 100.5047, address: "356 ‡∏ñ.‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏° 3, ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏≠‡πÅ‡∏´‡∏•‡∏°" },
    { name: "‡πÄ‡∏î‡∏≠‡∏∞‡∏°‡∏≠‡∏•‡∏•‡πå ‡∏á‡∏≤‡∏°‡∏ß‡∏á‡∏®‡πå‡∏ß‡∏≤‡∏ô", lat: 13.8552, lng: 100.5406, address: "30/39-50 ‡∏ñ.‡∏á‡∏≤‡∏°‡∏ß‡∏á‡∏®‡πå‡∏ß‡∏≤‡∏ô" },
    { name: "‡πÄ‡∏î‡∏≠‡∏∞‡∏°‡∏≠‡∏•‡∏•‡πå ‡∏ö‡∏≤‡∏á‡πÅ‡∏Ñ", lat: 13.7134, lng: 100.4072, address: "275 ‡∏´‡∏°‡∏π‡πà 1 ‡∏ñ.‡πÄ‡∏û‡∏ä‡∏£‡πÄ‡∏Å‡∏©‡∏°" },
    { name: "‡πÄ‡∏î‡∏≠‡∏∞‡∏°‡∏≠‡∏•‡∏•‡πå ‡∏ö‡∏≤‡∏á‡∏Å‡∏∞‡∏õ‡∏¥", lat: 13.7663, lng: 100.6425, address: "3522 ‡∏ñ.‡∏•‡∏≤‡∏î‡∏û‡∏£‡πâ‡∏≤‡∏ß, ‡∏Ñ‡∏•‡∏≠‡∏á‡∏à‡∏±‡πà‡∏ô" },
    { name: "‡∏ü‡∏¥‡∏ß‡πÄ‡∏à‡∏≠‡∏£‡πå‡∏û‡∏≤‡∏£‡πå‡∏Ñ ‡∏£‡∏±‡∏á‡∏™‡∏¥‡∏ï", lat: 13.9890, lng: 100.6176, address: "94 ‡∏ñ.‡∏û‡∏´‡∏•‡πÇ‡∏¢‡∏ò‡∏¥‡∏ô, ‡∏ò‡∏±‡∏ç‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏• ‡πÄ‡∏ß‡∏™‡∏ï‡πå‡πÄ‡∏Å‡∏ï", lat: 13.8767, lng: 100.4113, address: "199 ‡∏´‡∏°‡∏π‡πà 6 ‡∏ñ.‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏≤‡∏†‡∏¥‡πÄ‡∏©‡∏Å" },
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏• ‡∏õ‡∏¥‡πà‡∏ô‡πÄ‡∏Å‡∏•‡πâ‡∏≤", lat: 13.7776, lng: 100.4777, address: "7/222 ‡∏ñ.‡∏ö‡∏£‡∏°‡∏£‡∏≤‡∏ä‡∏ä‡∏ô‡∏ô‡∏µ" },
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏• ‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏° 9", lat: 13.7585, lng: 100.5661, address: "9/9 ‡∏ñ.‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏° 9" },
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏• ‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏° 2", lat: 13.6658, lng: 100.4417, address: "160 ‡∏ñ.‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏° 2, ‡πÅ‡∏™‡∏°‡∏î‡∏≥" },
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏• ‡∏≠‡∏µ‡∏™‡∏ï‡πå‡∏ß‡∏¥‡∏•‡∏•‡πå", lat: 13.8035, lng: 100.6143, address: "69/3 ‡∏ñ.‡∏õ‡∏£‡∏∞‡∏î‡∏¥‡∏©‡∏ê‡πå‡∏°‡∏ô‡∏π‡∏ò‡∏£‡∏£‡∏°" },
    { name: "‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô‡πÑ‡∏≠‡∏™‡πå‡πÅ‡∏•‡∏ô‡∏î‡πå", lat: 13.8248, lng: 100.6787, address: "587-589 ‡∏ñ.‡∏£‡∏≤‡∏°‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏≤" },
    { name: "‡∏ã‡∏µ‡∏Ñ‡∏≠‡∏ô‡∏™‡πÅ‡∏Ñ‡∏ß‡∏£‡πå ‡∏®‡∏£‡∏µ‡∏ô‡∏Ñ‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå", lat: 13.6952, lng: 100.6483, address: "55 ‡∏ñ.‡∏®‡∏£‡∏µ‡∏ô‡∏Ñ‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå" },
    { name: "‡∏û‡∏≤‡∏£‡∏≤‡πÑ‡∏î‡∏ã‡πå ‡∏û‡∏≤‡∏£‡πå‡∏Ñ", lat: 13.6875, lng: 100.6487, address: "61 ‡∏ñ.‡∏®‡∏£‡∏µ‡∏ô‡∏Ñ‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå" },
    { name: "‡∏™‡∏≤‡∏°‡∏¢‡πà‡∏≤‡∏ô‡∏°‡∏¥‡∏ï‡∏£‡∏ó‡∏≤‡∏ß‡∏ô‡πå", lat: 13.7337, lng: 100.5286, address: "944 ‡∏ñ.‡∏û‡∏£‡∏∞‡∏£‡∏≤‡∏° 4" },
    { name: "MBK Center", lat: 13.7444, lng: 100.5299, address: "444 ‡∏ñ.‡∏û‡∏ç‡∏≤‡πÑ‡∏ó, ‡∏õ‡∏ó‡∏∏‡∏°‡∏ß‡∏±‡∏ô" },
    { name: "‡πÅ‡∏û‡∏•‡∏ó‡∏¥‡∏ô‡∏±‡∏° ‡πÅ‡∏ü‡∏ä‡∏±‡πà‡∏ô ‡∏°‡∏≠‡∏•‡∏•‡πå", lat: 13.7500, lng: 100.5398, address: "222 ‡∏ñ.‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ, ‡∏£‡∏≤‡∏ä‡πÄ‡∏ó‡∏ß‡∏µ" },
    { name: "‡∏ï‡∏•‡∏≤‡∏î‡∏ô‡∏±‡∏î‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£", lat: 13.8030, lng: 100.5528, address: "‡∏ñ.‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÄ‡∏û‡∏ä‡∏£ 2" },
    { name: "‡πÄ‡∏≠‡πÄ‡∏ä‡∏µ‡∏¢‡∏ó‡∏µ‡∏Ñ", lat: 13.7046, lng: 100.5033, address: "2194 ‡∏ñ.‡πÄ‡∏à‡∏£‡∏¥‡∏ç‡∏Å‡∏£‡∏∏‡∏á" },
    // ‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏• ‡πÄ‡∏ü‡∏™‡∏ï‡∏¥‡∏ß‡∏±‡∏• ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà", lat: 18.8072, lng: 99.0182, address: "99,99/1,99/2 ‡∏´‡∏°‡∏π‡πà 4 ‡∏ï.‡∏ü‡πâ‡∏≤‡∏Æ‡πà‡∏≤‡∏°" },
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏• ‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô", lat: 16.4328, lng: 102.8229, address: "99 ‡∏ñ.‡∏®‡∏£‡∏µ‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå, ‡πÉ‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á" },
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏• ‡πÇ‡∏Ñ‡∏£‡∏≤‡∏ä", lat: 14.9925, lng: 102.1175, address: "990, 998 ‡∏ñ.‡∏°‡∏¥‡∏ï‡∏£‡∏†‡∏≤‡∏û" },
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏• ‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà", lat: 6.9972, lng: 100.4837, address: "1518 ‡∏ñ.‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ß‡∏ì‡∏¥‡∏ä‡∏¢‡πå" },
    { name: "‡πÄ‡∏ã‡πá‡∏ô‡∏ó‡∏£‡∏±‡∏• ‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï", lat: 7.8922, lng: 98.3667, address: "74-75 ‡∏´‡∏°‡∏π‡πà 5 ‡∏ñ.‡∏ß‡∏¥‡∏ä‡∏¥‡∏ï‡∏™‡∏á‡∏Ñ‡∏£‡∏≤‡∏°" },
    { name: "‡πÄ‡∏ó‡∏≠‡∏£‡πå‡∏°‡∏¥‡∏ô‡∏≠‡∏• 21 ‡∏û‡∏±‡∏ó‡∏¢‡∏≤", lat: 12.9508, lng: 100.8896, address: "456, 777, 777/1 ‡∏´‡∏°‡∏π‡πà 6" },
    { name: "‡∏ö‡∏•‡∏π‡∏û‡∏≠‡∏£‡πå‡∏ï ‡∏´‡∏±‡∏ß‡∏´‡∏¥‡∏ô", lat: 12.5562, lng: 99.9618, address: "8/89 ‡∏ã‡∏≠‡∏¢‡∏´‡∏°‡∏π‡πà‡∏ö‡πâ‡∏≤‡∏ô‡∏´‡∏ô‡∏≠‡∏á‡πÅ‡∏Å" },

    // --- üöå ‡∏à‡∏∏‡∏î‡∏Ñ‡∏°‡∏ô‡∏≤‡∏Ñ‡∏°‡∏Ç‡∏ô‡∏™‡πà‡∏á (‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô, ‡∏ö‡∏Ç‡∏™., ‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏£‡∏ñ‡πÑ‡∏ü) ---
    { name: "‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô‡∏™‡∏∏‡∏ß‡∏£‡∏£‡∏ì‡∏†‡∏π‡∏°‡∏¥", lat: 13.6900, lng: 100.7501, address: "999 ‡∏´‡∏°‡∏π‡πà 1, ‡∏´‡∏ô‡∏≠‡∏á‡∏õ‡∏£‡∏∑‡∏≠, ‡∏™‡∏°‡∏∏‡∏ó‡∏£‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£" },
    { name: "‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô‡∏î‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á", lat: 13.9126, lng: 100.6067, address: "222 ‡∏ñ.‡∏ß‡∏¥‡∏†‡∏≤‡∏ß‡∏î‡∏µ‡∏£‡∏±‡∏á‡∏™‡∏¥‡∏ï, ‡∏î‡∏≠‡∏ô‡πÄ‡∏°‡∏∑‡∏≠‡∏á" },
    { name: "‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà", lat: 18.7677, lng: 98.9640, address: "60 ‡∏ñ.‡∏°‡∏´‡∏¥‡∏î‡∏•, ‡∏™‡∏∏‡πÄ‡∏ó‡∏û" },
    { name: "‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï", lat: 8.1111, lng: 98.3065, address: "222 ‡∏´‡∏°‡∏π‡πà 6, ‡πÑ‡∏°‡πâ‡∏Ç‡∏≤‡∏ß" },
    { name: "‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà", lat: 6.9333, lng: 100.3933, address: "99 ‡∏´‡∏°‡∏π‡πà 3, ‡∏Ñ‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏≤" },
    { name: "‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô", lat: 16.4637, lng: 102.7864, address: "68/24 ‡∏ñ.‡∏°‡∏∞‡∏•‡∏¥‡∏ß‡∏±‡∏•‡∏¢‡πå" },
    { name: "‡∏™‡∏ô‡∏≤‡∏°‡∏ö‡∏¥‡∏ô‡∏≠‡∏π‡πà‡∏ï‡∏∞‡πÄ‡∏†‡∏≤", lat: 12.6783, lng: 101.0050, address: "70 ‡∏´‡∏°‡∏π‡πà 2, ‡∏û‡∏•‡∏≤, ‡∏£‡∏∞‡∏¢‡∏≠‡∏á" },
    { name: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏´‡∏°‡∏≠‡∏ä‡∏¥‡∏ï 2", lat: 13.8133, lng: 100.5493, address: "‡∏ñ.‡∏Å‡∏≥‡πÅ‡∏û‡∏á‡πÄ‡∏û‡∏ä‡∏£ 2" },
    { name: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡∏™‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡πÉ‡∏´‡∏°‡πà", lat: 13.7796, lng: 100.4256, address: "‡∏ñ.‡∏ö‡∏£‡∏°‡∏£‡∏≤‡∏ä‡∏ä‡∏ô‡∏ô‡∏µ" },
    { name: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Ç‡∏ô‡∏™‡πà‡∏á‡πÄ‡∏≠‡∏Å‡∏°‡∏±‡∏¢", lat: 13.7199, lng: 100.5838, address: "‡∏ñ.‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó" },
    { name: "‡∏≠‡∏≤‡πÄ‡∏Ç‡∏ï ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà", lat: 18.8007, lng: 99.0174, address: "165 ‡∏´‡∏°‡∏π‡πà 5 ‡∏ñ.‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡∏ß‡∏£‡∏±‡∏ê" },
    { name: "‡∏ö‡∏Ç‡∏™. ‡πÉ‡∏´‡∏°‡πà ‡πÇ‡∏Ñ‡∏£‡∏≤‡∏ä", lat: 15.0008, lng: 102.0985, address: "‡∏ñ.‡∏°‡∏¥‡∏ï‡∏£‡∏†‡∏≤‡∏û-‡∏´‡∏ô‡∏≠‡∏á‡∏Ñ‡∏≤‡∏¢" },
    { name: "‡∏ö‡∏Ç‡∏™. ‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô 3", lat: 16.3978, lng: 102.7956, address: "‡∏ñ.‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô" },
    { name: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏Å‡∏•‡∏≤‡∏á‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏≠‡∏†‡∏¥‡∏ß‡∏±‡∏í‡∏ô‡πå", lat: 13.8038, lng: 100.5408, address: "‡∏ñ.‡πÄ‡∏ó‡∏≠‡∏î‡∏î‡∏≥‡∏£‡∏¥, ‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£" },
    { name: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏£‡∏ñ‡πÑ‡∏ü‡∏´‡∏±‡∏ß‡∏•‡∏≥‡πÇ‡∏û‡∏á", lat: 13.7394, lng: 100.5167, address: "‡∏ñ.‡∏£‡∏≠‡∏á‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏õ‡∏ó‡∏∏‡∏°‡∏ß‡∏±‡∏ô" },
    { name: "‡∏≠‡∏ô‡∏∏‡∏™‡∏≤‡∏ß‡∏£‡∏µ‡∏¢‡πå‡∏ä‡∏±‡∏¢‡∏™‡∏°‡∏£‡∏†‡∏π‡∏°‡∏¥", lat: 13.7649, lng: 100.5383, address: "‡∏£‡∏≤‡∏ä‡πÄ‡∏ó‡∏ß‡∏µ, ‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø" },
    { name: "BTS ‡∏™‡∏¢‡∏≤‡∏°", lat: 13.7456, lng: 100.5343, address: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏£‡∏ñ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤" },
    { name: "BTS ‡∏≠‡πÇ‡∏®‡∏Å", lat: 13.7370, lng: 100.5604, address: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏£‡∏ñ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤" },
    { name: "MRT ‡∏™‡∏∏‡∏Ç‡∏∏‡∏°‡∏ß‡∏¥‡∏ó", lat: 13.7375, lng: 100.5614, address: "‡∏™‡∏ñ‡∏≤‡∏ô‡∏µ‡∏£‡∏ñ‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô" },
    { name: "‡∏ó‡πà‡∏≤‡πÄ‡∏£‡∏∑‡∏≠‡πÅ‡∏´‡∏•‡∏°‡∏ö‡∏≤‡∏•‡∏µ‡∏Æ‡∏≤‡∏¢", lat: 12.9236, lng: 100.8676, address: "‡∏û‡∏±‡∏ó‡∏¢‡∏≤‡πÉ‡∏ï‡πâ, ‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ" },

    // --- üèñÔ∏è ‡∏ó‡∏∞‡πÄ‡∏• & ‡πÄ‡∏Å‡∏≤‡∏∞ ---
    { name: "‡∏´‡∏≤‡∏î‡∏ö‡∏≤‡∏á‡πÅ‡∏™‡∏ô", lat: 13.2833, lng: 100.9167, address: "‡∏ï.‡πÅ‡∏™‡∏ô‡∏™‡∏∏‡∏Ç, ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡∏û‡∏±‡∏ó‡∏¢‡∏≤ (Pattaya Beach)", lat: 12.9428, lng: 100.8892, address: "‡∏≠.‡∏ö‡∏≤‡∏á‡∏•‡∏∞‡∏°‡∏∏‡∏á, ‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡∏´‡∏≤‡∏î‡∏à‡∏≠‡∏°‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô", lat: 12.8967, lng: 100.8963, address: "‡∏≠.‡∏ö‡∏≤‡∏á‡∏•‡∏∞‡∏°‡∏∏‡∏á, ‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡∏´‡∏≤‡∏î‡∏ô‡∏≤‡∏á‡∏£‡∏≥", lat: 12.6203, lng: 100.9197, address: "‡∏≠.‡∏™‡∏±‡∏ï‡∏´‡∏µ‡∏ö, ‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡∏´‡∏±‡∏ß‡∏´‡∏¥‡∏ô", lat: 12.5684, lng: 99.9577, address: "‡∏≠.‡∏´‡∏±‡∏ß‡∏´‡∏¥‡∏ô, ‡∏õ‡∏£‡∏∞‡∏à‡∏ß‡∏ö‡∏Ñ‡∏µ‡∏£‡∏µ‡∏Ç‡∏±‡∏ô‡∏ò‡πå" },
    { name: "‡∏ä‡∏∞‡∏≠‡∏≥", lat: 12.7987, lng: 99.9748, address: "‡∏≠.‡∏ä‡∏∞‡∏≠‡∏≥, ‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡∏´‡∏≤‡∏î‡πÄ‡∏à‡πâ‡∏≤‡∏™‡∏≥‡∏£‡∏≤‡∏ç", lat: 13.0067, lng: 100.0625, address: "‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡∏≠‡πà‡∏≤‡∏ß‡∏°‡∏∞‡∏ô‡∏≤‡∏ß", lat: 11.7856, lng: 99.8006, address: "‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏õ‡∏£‡∏∞‡∏à‡∏ß‡∏ö‡∏Ñ‡∏µ‡∏£‡∏µ‡∏Ç‡∏±‡∏ô‡∏ò‡πå" },
    { name: "‡πÄ‡∏Å‡∏≤‡∏∞‡∏•‡πâ‡∏≤‡∏ô", lat: 12.9276, lng: 100.7764, address: "‡∏≠.‡∏ö‡∏≤‡∏á‡∏•‡∏∞‡∏°‡∏∏‡∏á, ‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡πÄ‡∏Å‡∏≤‡∏∞‡πÄ‡∏™‡∏°‡πá‡∏î", lat: 12.5607, lng: 101.4507, address: "‡∏ï.‡πÄ‡∏û, ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏£‡∏∞‡∏¢‡∏≠‡∏á" },
    { name: "‡πÄ‡∏Å‡∏≤‡∏∞‡∏ä‡πâ‡∏≤‡∏á", lat: 12.0486, lng: 102.3267, address: "‡∏≠.‡πÄ‡∏Å‡∏≤‡∏∞‡∏ä‡πâ‡∏≤‡∏á, ‡∏ï‡∏£‡∏≤‡∏î" },
    { name: "‡πÄ‡∏Å‡∏≤‡∏∞‡∏•‡∏±‡∏ô‡∏ï‡∏≤", lat: 7.5776, lng: 99.0372, address: "‡∏≠.‡πÄ‡∏Å‡∏≤‡∏∞‡∏•‡∏±‡∏ô‡∏ï‡∏≤, ‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà" },
    { name: "‡∏´‡∏≤‡∏î‡∏õ‡πà‡∏≤‡∏ï‡∏≠‡∏á", lat: 7.8963, lng: 98.2965, address: "‡∏ï.‡∏õ‡πà‡∏≤‡∏ï‡∏≠‡∏á, ‡∏≠.‡∏Å‡∏∞‡∏ó‡∏π‡πâ, ‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï" },
    { name: "‡πÅ‡∏´‡∏•‡∏°‡∏û‡∏£‡∏´‡∏°‡πÄ‡∏ó‡∏û", lat: 7.7593, lng: 98.3039, address: "‡∏ï.‡∏£‡∏≤‡πÑ‡∏ß‡∏¢‡πå, ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï" },
    { name: "‡∏≠‡πà‡∏≤‡∏ß‡∏ô‡∏≤‡∏á", lat: 8.0330, lng: 98.8277, address: "‡∏ï.‡∏≠‡πà‡∏≤‡∏ß‡∏ô‡∏≤‡∏á, ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà" },
    { name: "‡πÑ‡∏£‡πà‡πÄ‡∏•‡∏¢‡πå", lat: 8.0110, lng: 98.8375, address: "‡∏ï.‡∏≠‡πà‡∏≤‡∏ß‡∏ô‡∏≤‡∏á, ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏Å‡∏£‡∏∞‡∏ö‡∏µ‡πà" },
    { name: "‡πÄ‡∏Å‡∏≤‡∏∞‡∏™‡∏°‡∏∏‡∏¢", lat: 9.5120, lng: 100.0582, address: "‡∏≠.‡πÄ‡∏Å‡∏≤‡∏∞‡∏™‡∏°‡∏∏‡∏¢, ‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ" },
    { name: "‡πÄ‡∏Å‡∏≤‡∏∞‡∏û‡∏∞‡∏á‡∏±‡∏ô", lat: 9.7319, lng: 100.0136, address: "‡∏≠.‡πÄ‡∏Å‡∏≤‡∏∞‡∏û‡∏∞‡∏á‡∏±‡∏ô, ‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ" },
    { name: "‡πÄ‡∏Å‡∏≤‡∏∞‡πÄ‡∏ï‡πà‡∏≤", lat: 10.0956, lng: 99.8404, address: "‡∏≠.‡πÄ‡∏Å‡∏≤‡∏∞‡∏û‡∏∞‡∏á‡∏±‡∏ô, ‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ" },
    { name: "‡∏´‡∏°‡∏π‡πà‡πÄ‡∏Å‡∏≤‡∏∞‡∏™‡∏¥‡∏°‡∏¥‡∏•‡∏±‡∏ô", lat: 8.6547, lng: 97.6432, address: "‡∏≠.‡∏Ñ‡∏∏‡∏£‡∏∞‡∏ö‡∏∏‡∏£‡∏µ, ‡∏û‡∏±‡∏á‡∏á‡∏≤" },
    { name: "‡πÄ‡∏Å‡∏≤‡∏∞‡∏´‡∏•‡∏µ‡πÄ‡∏õ‡πä‡∏∞", lat: 6.4886, lng: 99.3033, address: "‡∏ï.‡πÄ‡∏Å‡∏≤‡∏∞‡∏™‡∏≤‡∏´‡∏£‡πà‡∏≤‡∏¢, ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏™‡∏ï‡∏π‡∏•" },
    { name: "‡∏´‡∏≤‡∏î‡πÄ‡∏à‡πâ‡∏≤‡∏´‡∏•‡∏≤‡∏ß", lat: 12.5567, lng: 101.9056, address: "‡∏≠.‡∏ó‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà, ‡∏à‡∏±‡∏ô‡∏ó‡∏ö‡∏∏‡∏£‡∏µ" },

    // --- ‚õ∞Ô∏è ‡∏†‡∏π‡πÄ‡∏Ç‡∏≤ & ‡∏ò‡∏£‡∏£‡∏°‡∏ä‡∏≤‡∏ï‡∏¥ ---
    { name: "‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡πÅ‡∏´‡πà‡∏á‡∏ä‡∏≤‡∏ï‡∏¥‡πÄ‡∏Ç‡∏≤‡πÉ‡∏´‡∏ç‡πà", lat: 14.4390, lng: 101.3725, address: "‡∏ï.‡∏´‡∏°‡∏π‡∏™‡∏µ, ‡∏≠.‡∏õ‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á, ‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤" },
    { name: "‡∏ú‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏î‡∏≤‡∏¢", lat: 14.3597, lng: 101.3986, address: "‡πÄ‡∏Ç‡∏≤‡πÉ‡∏´‡∏ç‡πà, ‡∏ô‡∏Ñ‡∏£‡∏ô‡∏≤‡∏¢‡∏Å" },
    { name: "‡∏î‡∏≠‡∏¢‡∏≠‡∏¥‡∏ô‡∏ó‡∏ô‡∏ô‡∏ó‡πå", lat: 18.5884, lng: 98.4863, address: "‡∏≠.‡∏à‡∏≠‡∏°‡∏ó‡∏≠‡∏á, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà" },
    { name: "‡∏î‡∏≠‡∏¢‡∏™‡∏∏‡πÄ‡∏ó‡∏û", lat: 18.8049, lng: 98.9216, address: "‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà" },
    { name: "‡∏°‡πà‡∏≠‡∏ô‡πÅ‡∏à‡πà‡∏°", lat: 18.9356, lng: 98.8227, address: "‡∏ï.‡πÅ‡∏°‡πà‡πÅ‡∏£‡∏°, ‡∏≠.‡πÅ‡∏°‡πà‡∏£‡∏¥‡∏°, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà" },
    { name: "‡∏†‡∏π‡∏ó‡∏±‡∏ö‡πÄ‡∏ö‡∏¥‡∏Å", lat: 16.9022, lng: 101.1069, address: "‡∏ï.‡∏ß‡∏±‡∏á‡∏ö‡∏≤‡∏•, ‡∏≠.‡∏´‡∏•‡πà‡∏°‡πÄ‡∏Å‡πà‡∏≤, ‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏π‡∏£‡∏ì‡πå" },
    { name: "‡πÄ‡∏Ç‡∏≤‡∏Ñ‡πâ‡∏≠", lat: 16.6332, lng: 100.9933, address: "‡∏≠.‡πÄ‡∏Ç‡∏≤‡∏Ñ‡πâ‡∏≠, ‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏π‡∏£‡∏ì‡πå" },
    { name: "‡∏†‡∏π‡∏Å‡∏£‡∏∞‡∏î‡∏∂‡∏á", lat: 16.8845, lng: 101.7875, address: "‡∏≠.‡∏†‡∏π‡∏Å‡∏£‡∏∞‡∏î‡∏∂‡∏á, ‡πÄ‡∏•‡∏¢" },
    { name: "‡∏†‡∏π‡πÄ‡∏£‡∏∑‡∏≠", lat: 17.4797, lng: 101.3556, address: "‡∏≠.‡∏†‡∏π‡πÄ‡∏£‡∏∑‡∏≠, ‡πÄ‡∏•‡∏¢" },
    { name: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≤‡∏ô", lat: 17.8947, lng: 101.6533, address: "‡∏≠.‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏Ñ‡∏≤‡∏ô, ‡πÄ‡∏•‡∏¢" },
    { name: "‡∏†‡∏π‡∏ä‡∏µ‡πâ‡∏ü‡πâ‡∏≤", lat: 19.8508, lng: 100.4536, address: "‡∏ï.‡∏ï‡∏±‡∏ö‡πÄ‡∏ï‡πà‡∏≤, ‡∏≠.‡πÄ‡∏ó‡∏¥‡∏á, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢" },
    { name: "‡∏î‡∏≠‡∏¢‡∏≠‡πà‡∏≤‡∏á‡∏Ç‡∏≤‡∏á", lat: 19.9016, lng: 99.0407, address: "‡∏≠.‡∏ù‡∏≤‡∏á, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà" },
    { name: "‡∏õ‡∏≤‡∏¢ (Pai)", lat: 19.3582, lng: 98.4405, address: "‡∏≠.‡∏õ‡∏≤‡∏¢, ‡πÅ‡∏°‡πà‡∏Æ‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏ô" },
    { name: "‡∏õ‡∏≤‡∏á‡∏≠‡∏∏‡πã‡∏á", lat: 19.4992, lng: 97.9107, address: "‡∏ï.‡∏´‡∏°‡∏≠‡∏Å‡∏à‡∏≥‡πÅ‡∏õ‡πà, ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡πÅ‡∏°‡πà‡∏Æ‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏ô" },
    { name: "‡∏ö‡πâ‡∏≤‡∏ô‡∏£‡∏±‡∏Å‡πÑ‡∏ó‡∏¢", lat: 19.5856, lng: 97.9436, address: "‡∏ï.‡∏´‡∏°‡∏≠‡∏Å‡∏à‡∏≥‡πÅ‡∏õ‡πà, ‡πÅ‡∏°‡πà‡∏Æ‡πà‡∏≠‡∏á‡∏™‡∏≠‡∏ô" },
    { name: "‡πÄ‡∏Ç‡∏∑‡πà‡∏≠‡∏ô‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏´‡∏•‡∏≤‡∏ô", lat: 8.9758, lng: 98.8217, address: "‡∏ï.‡πÄ‡∏Ç‡∏≤‡∏û‡∏±‡∏á, ‡∏≠.‡∏ö‡πâ‡∏≤‡∏ô‡∏ï‡∏≤‡∏Ç‡∏∏‡∏ô, ‡∏™‡∏∏‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå‡∏ò‡∏≤‡∏ô‡∏µ" },
    { name: "‡∏ô‡πâ‡∏≥‡∏ï‡∏Å‡πÄ‡∏≠‡∏£‡∏≤‡∏ß‡∏±‡∏ì", lat: 14.3752, lng: 99.1440, address: "‡∏ï.‡∏ó‡πà‡∏≤‡∏Å‡∏£‡∏∞‡∏î‡∏≤‡∏ô, ‡∏≠.‡∏®‡∏£‡∏µ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏¥‡πå, ‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡πÄ‡∏Ç‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏∏‡∏ô‡∏î‡πà‡∏≤‡∏ô‡∏õ‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡∏ä‡∏•", lat: 14.3156, lng: 101.3219, address: "‡∏ï.‡∏´‡∏¥‡∏ô‡∏ï‡∏±‡πâ‡∏á, ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏ô‡∏Ñ‡∏£‡∏ô‡∏≤‡∏¢‡∏Å" },
    { name: "‡∏™‡∏∞‡∏û‡∏≤‡∏ô‡∏°‡∏≠‡∏ç", lat: 15.1432, lng: 98.4504, address: "‡∏ï.‡∏´‡∏ô‡∏≠‡∏á‡∏•‡∏π, ‡∏≠.‡∏™‡∏±‡∏á‡∏Ç‡∏•‡∏∞‡∏ö‡∏∏‡∏£‡∏µ, ‡∏Å‡∏≤‡∏ç‡∏à‡∏ô‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡∏™‡∏ß‡∏ô‡∏ú‡∏∂‡πâ‡∏á", lat: 13.5467, lng: 99.3386, address: "‡∏≠.‡∏™‡∏ß‡∏ô‡∏ú‡∏∂‡πâ‡∏á, ‡∏£‡∏≤‡∏ä‡∏ö‡∏∏‡∏£‡∏µ" },

    // --- üïå ‡∏ß‡∏±‡∏î & ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç ---
    { name: "‡∏ß‡∏±‡∏î‡∏û‡∏£‡∏∞‡πÅ‡∏Å‡πâ‡∏ß", lat: 13.7516, lng: 100.4926, address: "‡∏ñ.‡∏´‡∏ô‡πâ‡∏≤‡∏û‡∏£‡∏∞‡∏•‡∏≤‡∏ô, ‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£, ‡∏Å‡∏ó‡∏°." },
    { name: "‡∏ß‡∏±‡∏î‡πÇ‡∏û‡∏ò‡∏¥‡πå", lat: 13.7465, lng: 100.4933, address: "‡∏ñ.‡∏™‡∏ô‡∏≤‡∏°‡πÑ‡∏ä‡∏¢, ‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£, ‡∏Å‡∏ó‡∏°." },
    { name: "‡∏ß‡∏±‡∏î‡∏≠‡∏£‡∏∏‡∏ì‡∏Ø", lat: 13.7437, lng: 100.4889, address: "‡∏ñ.‡∏ß‡∏±‡∏á‡πÄ‡∏î‡∏¥‡∏°, ‡∏ö‡∏≤‡∏á‡∏Å‡∏≠‡∏Å‡πÉ‡∏´‡∏ç‡πà, ‡∏Å‡∏ó‡∏°." },
    { name: "‡πÄ‡∏¢‡∏≤‡∏ß‡∏£‡∏≤‡∏ä (Chinatown)", lat: 13.7410, lng: 100.5085, address: "‡∏ñ.‡πÄ‡∏¢‡∏≤‡∏ß‡∏£‡∏≤‡∏ä, ‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡∏ß‡∏á‡∏®‡πå" },
    { name: "‡∏ñ‡∏ô‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡∏™‡∏≤‡∏£", lat: 13.7589, lng: 100.4972, address: "‡∏ö‡∏≤‡∏á‡∏•‡∏≥‡∏û‡∏π, ‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£" },
    { name: "‡∏ß‡∏±‡∏î‡∏£‡πà‡∏≠‡∏á‡∏Ç‡∏∏‡πà‡∏ô", lat: 19.8243, lng: 99.7631, address: "‡∏ï.‡∏õ‡πà‡∏≤‡∏≠‡πâ‡∏≠‡∏î‡∏≠‡∏ô‡∏ä‡∏±‡∏¢, ‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢" },
    { name: "‡∏≠‡∏∏‡∏ó‡∏¢‡∏≤‡∏ô‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤", lat: 14.3569, lng: 100.5585, address: "‡∏à.‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤" },
    { name: "‡∏ß‡∏±‡∏î‡πÉ‡∏´‡∏ç‡πà‡∏ä‡∏±‡∏¢‡∏°‡∏á‡∏Ñ‡∏•", lat: 14.3453, lng: 100.5922, address: "‡∏à.‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏≠‡∏¢‡∏∏‡∏ò‡∏¢‡∏≤" },
    { name: "‡∏û‡∏£‡∏∞‡∏õ‡∏ê‡∏°‡πÄ‡∏à‡∏î‡∏µ‡∏¢‡πå", lat: 13.8196, lng: 100.0602, address: "‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°" },
    { name: "‡∏≠‡∏ô‡∏∏‡∏™‡∏≤‡∏ß‡∏£‡∏µ‡∏¢‡πå‡∏¢‡πà‡∏≤‡πÇ‡∏°", lat: 14.9757, lng: 102.0982, address: "‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤" },
    { name: "‡∏û‡∏£‡∏∞‡∏ò‡∏≤‡∏ï‡∏∏‡∏û‡∏ô‡∏°", lat: 16.9425, lng: 104.7244, address: "‡∏≠.‡∏ò‡∏≤‡∏ï‡∏∏‡∏û‡∏ô‡∏°, ‡∏ô‡∏Ñ‡∏£‡∏û‡∏ô‡∏°" },
    { name: "‡∏ß‡∏±‡∏î‡πÄ‡∏à‡∏î‡∏µ‡∏¢‡πå (‡πÑ‡∏≠‡πâ‡πÑ‡∏Ç‡πà)", lat: 8.7853, lng: 99.9272, address: "‡∏≠.‡∏™‡∏¥‡∏ä‡∏•, ‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä" },
    { name: "‡∏ß‡∏±‡∏î‡∏û‡∏£‡∏∞‡∏ò‡∏≤‡∏ï‡∏∏‡∏ú‡∏≤‡∏ã‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡∏ß", lat: 16.7933, lng: 101.0478, address: "‡∏≠.‡πÄ‡∏Ç‡∏≤‡∏Ñ‡πâ‡∏≠, ‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏π‡∏£‡∏ì‡πå" },

    // --- üéì ‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢ ---
    { name: "‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏á‡∏Å‡∏£‡∏ì‡πå‡∏°‡∏´‡∏≤‡∏ß‡∏¥‡∏ó‡∏¢‡∏≤‡∏•‡∏±‡∏¢", lat: 13.7384, lng: 100.5321, address: "‡∏õ‡∏ó‡∏∏‡∏°‡∏ß‡∏±‡∏ô, ‡∏Å‡∏ó‡∏°." },
    { name: "‡∏°.‡πÄ‡∏Å‡∏©‡∏ï‡∏£‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå (‡∏ö‡∏≤‡∏á‡πÄ‡∏Ç‡∏ô)", lat: 13.8476, lng: 100.5696, address: "‡∏à‡∏ï‡∏∏‡∏à‡∏±‡∏Å‡∏£, ‡∏Å‡∏ó‡∏°." },
    { name: "‡∏°.‡∏ò‡∏£‡∏£‡∏°‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå (‡∏ó‡πà‡∏≤‡∏û‡∏£‡∏∞‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå)", lat: 13.7567, lng: 100.4903, address: "‡∏û‡∏£‡∏∞‡∏ô‡∏Ñ‡∏£, ‡∏Å‡∏ó‡∏°." },
    { name: "‡∏°.‡∏ò‡∏£‡∏£‡∏°‡∏®‡∏≤‡∏™‡∏ï‡∏£‡πå (‡∏£‡∏±‡∏á‡∏™‡∏¥‡∏ï)", lat: 14.0735, lng: 100.6032, address: "‡∏Ñ‡∏•‡∏≠‡∏á‡∏´‡∏•‡∏ß‡∏á, ‡∏õ‡∏ó‡∏∏‡∏°‡∏ò‡∏≤‡∏ô‡∏µ" },
    { name: "‡∏°.‡∏°‡∏´‡∏¥‡∏î‡∏• (‡∏®‡∏≤‡∏•‡∏≤‡∏¢‡∏≤)", lat: 13.7928, lng: 100.3247, address: "‡∏û‡∏∏‡∏ó‡∏ò‡∏°‡∏ì‡∏ë‡∏•, ‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°" },
    { name: "‡∏°.‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà", lat: 18.8046, lng: 98.9550, address: "‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà" },
    { name: "‡∏°.‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô", lat: 16.4744, lng: 102.8220, address: "‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô" },
    { name: "‡∏°.‡∏™‡∏á‡∏Ç‡∏•‡∏≤‡∏ô‡∏Ñ‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå (‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà)", lat: 7.0086, lng: 100.4982, address: "‡∏≠.‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà, ‡∏™‡∏á‡∏Ç‡∏•‡∏≤" },
    { name: "‡∏°.‡∏ö‡∏π‡∏£‡∏û‡∏≤", lat: 13.2861, lng: 100.9256, address: "‡∏ï.‡πÅ‡∏™‡∏ô‡∏™‡∏∏‡∏Ç, ‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡∏°.‡πÅ‡∏°‡πà‡∏ü‡πâ‡∏≤‡∏´‡∏•‡∏ß‡∏á", lat: 20.0452, lng: 99.8948, address: "‡∏ï.‡∏ó‡πà‡∏≤‡∏™‡∏∏‡∏î, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡∏£‡∏≤‡∏¢" },
    { name: "‡∏°.‡∏ô‡πÄ‡∏£‡∏®‡∏ß‡∏£", lat: 16.7438, lng: 100.1967, address: "‡∏ï.‡∏ó‡πà‡∏≤‡πÇ‡∏û‡∏ò‡∏¥‡πå, ‡∏û‡∏¥‡∏©‡∏ì‡∏∏‡πÇ‡∏•‡∏Å" },
    { name: "‡∏°.‡∏®‡∏¥‡∏•‡∏õ‡∏≤‡∏Å‡∏£ (‡∏™‡∏ô‡∏≤‡∏°‡∏à‡∏±‡∏ô‡∏ó‡∏£‡πå)", lat: 13.8192, lng: 100.0436, address: "‡∏≠.‡πÄ‡∏°‡∏∑‡∏≠‡∏á, ‡∏ô‡∏Ñ‡∏£‡∏õ‡∏ê‡∏°" },
    { name: "‡∏°.‡∏®‡∏¥‡∏•‡∏õ‡∏≤‡∏Å‡∏£ (‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ)", lat: 12.6636, lng: 99.8583, address: "‡∏≠.‡∏ä‡∏∞‡∏≠‡∏≥, ‡πÄ‡∏û‡∏ä‡∏£‡∏ö‡∏∏‡∏£‡∏µ" },
    { name: "‡∏™‡∏ñ‡∏≤‡∏ö‡∏±‡∏ô‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏û‡∏£‡∏∞‡∏à‡∏≠‡∏°‡πÄ‡∏Å‡∏•‡πâ‡∏≤‡πÄ‡∏à‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏´‡∏≤‡∏£‡∏•‡∏≤‡∏î‡∏Å‡∏£‡∏∞‡∏ö‡∏±‡∏á", lat: 13.7266, lng: 100.7753, address: "‡∏•‡∏≤‡∏î‡∏Å‡∏£‡∏∞‡∏ö‡∏±‡∏á, ‡∏Å‡∏ó‡∏°." },
    { name: "‡∏°.‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏û‡∏£‡∏∞‡∏à‡∏≠‡∏°‡πÄ‡∏Å‡∏•‡πâ‡∏≤‡∏ò‡∏ô‡∏ö‡∏∏‡∏£‡∏µ", lat: 13.6513, lng: 100.4964, address: "‡∏ó‡∏∏‡πà‡∏á‡∏Ñ‡∏£‡∏∏, ‡∏Å‡∏ó‡∏°." },

    // --- üè• ‡πÇ‡∏£‡∏á‡∏û‡∏¢‡∏≤‡∏ö‡∏≤‡∏• ---
    { name: "‡∏£‡∏û.‡∏®‡∏¥‡∏£‡∏¥‡∏£‡∏≤‡∏ä", lat: 13.7592, lng: 100.4855, address: "‡∏ö‡∏≤‡∏á‡∏Å‡∏≠‡∏Å‡∏ô‡πâ‡∏≠‡∏¢, ‡∏Å‡∏ó‡∏°." },
    { name: "‡∏£‡∏û.‡∏£‡∏≤‡∏°‡∏≤‡∏ò‡∏¥‡∏ö‡∏î‡∏µ", lat: 13.7668, lng: 100.5275, address: "‡∏£‡∏≤‡∏ä‡πÄ‡∏ó‡∏ß‡∏µ, ‡∏Å‡∏ó‡∏°." },
    { name: "‡∏£‡∏û.‡∏à‡∏∏‡∏¨‡∏≤‡∏•‡∏á‡∏Å‡∏£‡∏ì‡πå", lat: 13.7322, lng: 100.5348, address: "‡∏õ‡∏ó‡∏∏‡∏°‡∏ß‡∏±‡∏ô, ‡∏Å‡∏ó‡∏°." },
    { name: "‡∏£‡∏û.‡∏°‡∏´‡∏≤‡∏£‡∏≤‡∏ä‡∏ô‡∏Ñ‡∏£‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà (‡∏™‡∏ß‡∏ô‡∏î‡∏≠‡∏Å)", lat: 18.7898, lng: 98.9747, address: "‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà" },
    { name: "‡∏£‡∏û.‡∏®‡∏£‡∏µ‡∏ô‡∏Ñ‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå", lat: 16.4675, lng: 102.8303, address: "‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô" },
    { name: "‡∏£‡∏û.‡∏™‡∏á‡∏Ç‡∏•‡∏≤‡∏ô‡∏Ñ‡∏£‡∏¥‡∏ô‡∏ó‡∏£‡πå", lat: 7.0080, lng: 100.4975, address: "‡∏´‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà, ‡∏™‡∏á‡∏Ç‡∏•‡∏≤" }
  ];

  const filteredSuggested = suggestedLocations.filter(l => 
      l.name.toLowerCase().includes(searchTerm.toLowerCase()) || 
      l.address.toLowerCase().includes(searchTerm.toLowerCase())
  );

  const displayLocations = searchResults.length > 0 ? searchResults : (searchTerm ? filteredSuggested : suggestedLocations);

  return (
    <div className="modal-overlay" style={{zIndex: 2000}}>
      <div className="modal-content" style={{maxWidth: '450px', padding: '0', overflow: 'hidden', display: 'flex', flexDirection: 'column', maxHeight: '80vh'}}>
        
        <div style={{padding: '15px', borderBottom: '1px solid #eee', display: 'flex', alignItems: 'center', justifyContent: 'space-between'}}>
          <h3 style={{margin:0, fontSize: '1.1rem'}}>üìç ‡∏™‡πà‡∏á‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á</h3>
          <button onClick={onClose} style={{background:'none', border:'none', cursor:'pointer'}}>
             <X size={24} color="#666" />
          </button>
        </div>

        <div className="modal-body" style={{padding: '15px', overflowY: 'auto'}}>
          
          <div style={{position: 'relative', marginBottom: '15px'}}>
             <Search size={18} style={{position: 'absolute', left: '12px', top: '50%', transform: 'translateY(-50%)', color: '#888'}} />
             <input 
               type="text" 
               placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ‡πÄ‡∏ä‡πà‡∏ô ‡∏ö‡∏≤‡∏á‡πÅ‡∏™‡∏ô, ‡πÄ‡∏Ç‡∏≤‡πÉ‡∏´‡∏ç‡πà, ‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà..." 
               value={searchTerm}
               onChange={(e) => setSearchTerm(e.target.value)}
               style={{
                 width: '100%', 
                 padding: '12px 12px 12px 40px', 
                 borderRadius: '8px', 
                 border: '1px solid #ddd', 
                 outline: 'none',
                 fontSize: '1rem',
                 backgroundColor: '#f9fafb'
               }}
             />
             {isLoading && (
                 <div style={{position: 'absolute', right: '12px', top: '50%', transform: 'translateY(-50%)'}}>
                    <Loader className="animate-spin" size={16} color="#666"/>
                 </div>
             )}
          </div>

          <button 
            onClick={handleCurrentLocation} 
            disabled={isLoading}
            style={{
                width: '100%', 
                padding: '12px', 
                background: '#e3f2fd', 
                color: '#1976d2', 
                border: 'none', 
                borderRadius: '8px', 
                display: 'flex', 
                alignItems: 'center', 
                justifyContent: 'center', 
                gap: '8px', 
                cursor: 'pointer',
                fontWeight: 'bold',
                marginBottom: '20px',
                transition: 'background 0.2s'
            }}
          >
             <Navigation size={18} /> ‡πÅ‡∏ä‡∏£‡πå‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô
          </button>

          <div style={{fontSize: '0.9rem', color: '#666', marginBottom: '10px', fontWeight: 'bold'}}>
             {searchResults.length > 0 ? '‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤' : (searchTerm ? '‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)' : '‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏î‡∏Æ‡∏¥‡∏ï‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏ó‡∏¢')}
          </div>

          <div className="location-list">
             {displayLocations.map((loc, index) => (
               <div 
                 key={index} 
                 onClick={() => onSendLocation(loc)}
                 style={{
                    padding: '12px 0', 
                    borderBottom: '1px solid #f0f0f0', 
                    cursor: 'pointer',
                    display: 'flex',
                    alignItems: 'flex-start',
                    gap: '12px'
                 }}
               >
                 <div style={{
                    width: '35px', height: '35px', 
                    background: '#f0f2f5', borderRadius: '50%', 
                    display: 'flex', alignItems: 'center', justifyContent: 'center',
                    flexShrink: 0, marginTop: '2px'
                 }}>
                    <MapPin size={18} color="#555" />
                 </div>
                 <div>
                   <div style={{fontWeight: 'bold', fontSize: '0.95rem', color: '#333'}}>{loc.name}</div>
                   <div style={{fontSize: '0.8rem', color: '#888', lineHeight: '1.3'}}>{loc.address}</div>
                 </div>
               </div>
             ))}
          </div>
        </div>

      </div>
    </div>
  );
};

export default LocationModal;